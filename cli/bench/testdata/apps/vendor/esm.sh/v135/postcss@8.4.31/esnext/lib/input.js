/* esm.sh - esbuild bundle(postcss@8.4.31/lib/input) esnext production */
import * as __0$ from "/v135/nanoid@3.3.7/esnext/non-secure.js";
import * as __1$ from "/v135/postcss@8.4.31/esnext/lib/css-syntax-error.js";
import * as __2$ from "/v135/postcss@8.4.31/esnext/lib/previous-map.js";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"nanoid/non-secure":return c(__0$);case"postcss/lib/css-syntax-error":return e(__1$);case"postcss/lib/previous-map":return e(__2$);default:throw new Error("module \""+n+"\" not found");}};
var H=Object.create;var S=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty;var x=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var C=(r,e)=>()=>(r&&(e=r(r=0)),e);var D=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),d=(r,e)=>{for(var t in e)S(r,t,{get:e[t],enumerable:!0})},g=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of N(e))!z.call(r,s)&&s!==t&&S(r,s,{get:()=>e[s],enumerable:!(i=J(e,s))||i.enumerable});return r},m=(r,e,t)=>(g(r,e,"default"),t&&g(t,e,"default")),q=(r,e,t)=>(t=r!=null?H($(r)):{},g(e||!r||!r.__esModule?S(t,"default",{value:r,enumerable:!0}):t,r)),b=r=>g(S({},"__esModule",{value:!0}),r);var M={};d(M,{default:()=>K});var K,R=C(()=>{K={}});var P={};d(P,{default:()=>Q});var Q,_=C(()=>{Q={}});var B={};d(B,{default:()=>V});var V,E=C(()=>{V={}});var A={};d(A,{default:()=>W});var W,U=C(()=>{W={}});var L=D((oe,k)=>{"use strict";var{SourceMapConsumer:X,SourceMapGenerator:Y}=(R(),b(M)),{fileURLToPath:j,pathToFileURL:w}=(_(),b(P)),{isAbsolute:v,resolve:y}=(E(),b(B)),{nanoid:Z}=x("nanoid/non-secure"),F=(U(),b(A)),I=x("postcss/lib/css-syntax-error"),ee=x("postcss/lib/previous-map"),O=Symbol("fromOffsetCache"),te=!!(X&&Y),T=!!(y&&v),c=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!T||/^\w+:\/\//.test(t.from)||v(t.from)?this.file=t.from:this.file=y(t.from)),T&&te){let i=new ee(this.css,t);if(i.text){this.map=i;let s=i.consumer().file;!this.file&&s&&(this.file=this.mapResolve(s))}}this.file||(this.id="<input css "+Z(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,s={}){let n,l,f;if(t&&typeof t=="object"){let u=t,h=i;if(typeof u.offset=="number"){let p=this.fromOffset(u.offset);t=p.line,i=p.col}else t=u.line,i=u.column;if(typeof h.offset=="number"){let p=this.fromOffset(h.offset);l=p.line,f=p.col}else l=h.line,f=h.column}else if(!i){let u=this.fromOffset(t);t=u.line,i=u.col}let o=this.origin(t,i,l,f);return o?n=new I(e,o.endLine===void 0?o.line:{column:o.column,line:o.line},o.endLine===void 0?o.column:{column:o.endColumn,line:o.endLine},o.source,o.file,s.plugin):n=new I(e,l===void 0?t:{column:i,line:t},l===void 0?i:{column:f,line:l},this.css,this.file,s.plugin),n.input={column:i,endColumn:f,endLine:l,line:t,source:this.css},this.file&&(w&&(n.input.url=w(this.file).toString()),n.input.file=this.file),n}fromOffset(e){let t,i;if(this[O])i=this[O];else{let n=this.css.split(`
`);i=new Array(n.length);let l=0;for(let f=0,o=n.length;f<o;f++)i[f]=l,l+=n[f].length+1;this[O]=i}t=i[i.length-1];let s=0;if(e>=t)s=i.length-1;else{let n=i.length-2,l;for(;s<n;)if(l=s+(n-s>>1),e<i[l])n=l-1;else if(e>=i[l+1])s=l+1;else{s=l;break}}return{col:e-i[s]+1,line:s+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:y(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,s){if(!this.map)return!1;let n=this.map.consumer(),l=n.originalPositionFor({column:t,line:e});if(!l.source)return!1;let f;typeof i=="number"&&(f=n.originalPositionFor({column:s,line:i}));let o;v(l.source)?o=w(l.source):o=new URL(l.source,this.map.consumer().sourceRoot||w(this.map.mapFile));let u={column:l.column,endColumn:f&&f.column,endLine:f&&f.line,line:l.line,url:o.toString()};if(o.protocol==="file:")if(j)u.file=j(o);else throw new Error("file: protocol is not available in this PostCSS build");let h=n.sourceContentFor(l.source);return h&&(u.source=h),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};k.exports=c;c.default=c;F&&F.registerInput&&F.registerInput(c)});var a={};d(a,{default:()=>le});var ie=q(L());m(a,q(L()));var{default:G,...re}=ie,le=G!==void 0?G:re;export{le as default};
//# sourceMappingURL=input.js.map