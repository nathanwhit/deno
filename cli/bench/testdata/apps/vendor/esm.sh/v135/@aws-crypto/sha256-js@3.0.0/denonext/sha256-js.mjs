/* esm.sh - esbuild bundle(@aws-crypto/sha256-js@3.0.0) denonext production */
import * as __0$ from "/v135/tslib@1.14.1/denonext/tslib.mjs";
import * as __1$ from "/v135/tslib@1.14.1/denonext/tslib.mjs";
import * as __2$ from "/v135/@aws-crypto/util@3.0.0/denonext/util.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"tslib":return e(__0$);case"@aws-crypto/util":return c(__2$);default:throw new Error("module \""+n+"\" not found");}};
var q=Object.create;var g=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var B=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(t,a)=>(typeof require<"u"?require:t)[a]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});var p=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),Y=(s,t)=>{for(var a in t)g(s,a,{get:t[a],enumerable:!0})},I=(s,t,a,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of j(t))!X.call(s,r)&&r!==a&&g(s,r,{get:()=>t[r],enumerable:!(e=D(t,r))||e.enumerable});return s},u=(s,t,a)=>(I(s,t,"default"),a&&I(a,t,"default")),C=(s,t,a)=>(a=s!=null?q(P(s)):{},I(t||!s||!s.__esModule?g(a,"default",{value:s,enumerable:!0}):a,s));var l=p(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.MAX_HASHABLE_LENGTH=h.INIT=h.KEY=h.DIGEST_LENGTH=h.BLOCK_SIZE=void 0;h.BLOCK_SIZE=64;h.DIGEST_LENGTH=32;h.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);h.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];h.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var T=p(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.RawSha256=void 0;var i=l(),F=function(){function s(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return s.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,e=t.byteLength;if(this.bytesHashed+=e,this.bytesHashed*8>i.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;e>0;)this.buffer[this.bufferLength++]=t[a++],e--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},s.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),e=this.bufferLength;if(a.setUint8(this.bufferLength++,128),e%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var r=this.bufferLength;r<i.BLOCK_SIZE;r++)a.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<i.BLOCK_SIZE-8;r++)a.setUint8(r,0);a.setUint32(i.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),a.setUint32(i.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var n=new Uint8Array(i.DIGEST_LENGTH),r=0;r<8;r++)n[r*4]=this.state[r]>>>24&255,n[r*4+1]=this.state[r]>>>16&255,n[r*4+2]=this.state[r]>>>8&255,n[r*4+3]=this.state[r]>>>0&255;return n},s.prototype.hashBuffer=function(){for(var t=this,a=t.buffer,e=t.state,r=e[0],n=e[1],b=e[2],E=e[3],o=e[4],d=e[5],_=e[6],w=e[7],f=0;f<i.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(a[f*4]&255)<<24|(a[f*4+1]&255)<<16|(a[f*4+2]&255)<<8|a[f*4+3]&255;else{var x=this.temp[f-2],G=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10;x=this.temp[f-15];var N=(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3;this.temp[f]=(G+this.temp[f-7]|0)+(N+this.temp[f-16]|0)}var K=(((o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7))+(o&d^~o&_)|0)+(w+(i.KEY[f]+this.temp[f]|0)|0)|0,R=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&n^r&b^n&b)|0;w=_,_=d,d=o,o=E+K|0,E=b,b=n,n=r,r=K+R|0}e[0]+=r,e[1]+=n,e[2]+=b,e[3]+=E,e[4]+=o,e[5]+=d,e[6]+=_,e[7]+=w},s}();v.RawSha256=F});var H=p(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.Sha256=void 0;var Z=B("tslib"),L=l(),S=T(),O=B("@aws-crypto/util"),k=function(){function s(t){this.secret=t,this.hash=new S.RawSha256,this.reset()}return s.prototype.update=function(t){if(!((0,O.isEmptyData)(t)||this.error))try{this.hash.update((0,O.convertToBuffer)(t))}catch(a){this.error=a}},s.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},s.prototype.digest=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(t){return[2,this.digestSync()]})})},s.prototype.reset=function(){if(this.hash=new S.RawSha256,this.secret){this.outer=new S.RawSha256;var t=z(this.secret),a=new Uint8Array(L.BLOCK_SIZE);a.set(t);for(var e=0;e<L.BLOCK_SIZE;e++)t[e]^=54,a[e]^=92;this.hash.update(t),this.outer.update(a);for(var e=0;e<t.byteLength;e++)t[e]=0}},s}();y.Sha256=k;function z(s){var t=(0,O.convertToBuffer)(s);if(t.byteLength>L.BLOCK_SIZE){var a=new S.RawSha256;a.update(t),t=a.digest()}var e=new Uint8Array(L.BLOCK_SIZE);return e.set(t),e}});var A=p(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var J=B("tslib");J.__exportStar(H(),m)});var c={};Y(c,{Sha256:()=>W,__esModule:()=>Q,default:()=>V});var U=C(A());u(c,C(A()));var{__esModule:Q,Sha256:W}=U,{default:M,...$}=U,V=M!==void 0?M:$;export{W as Sha256,Q as __esModule,V as default};
//# sourceMappingURL=sha256-js.mjs.map