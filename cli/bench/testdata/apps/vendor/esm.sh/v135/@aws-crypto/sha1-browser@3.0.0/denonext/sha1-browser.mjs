/* esm.sh - esbuild bundle(@aws-crypto/sha1-browser@3.0.0) denonext production */
import * as __0$ from "/v135/tslib@1.14.1/denonext/tslib.mjs";
import * as __1$ from "/v135/@aws-crypto/supports-web-crypto@3.0.0/denonext/supports-web-crypto.mjs";
import * as __2$ from "/v135/@aws-crypto/ie11-detection@3.0.0/denonext/ie11-detection.mjs";
import * as __3$ from "/v135/@aws-sdk/util-locate-window@3.310.0/denonext/util-locate-window.mjs";
import * as __4$ from "/v135/@aws-crypto/util@3.0.0/denonext/util.mjs";
import * as __5$ from "/v135/@aws-sdk/util-utf8-browser@3.259.0/denonext/util-utf8-browser.mjs";
import * as __6$ from "/v135/@aws-sdk/util-utf8-browser@3.259.0/denonext/util-utf8-browser.mjs";
import * as __7$ from "/v135/@aws-sdk/util-locate-window@3.310.0/denonext/util-locate-window.mjs";
import * as __8$ from "/v135/@aws-sdk/util-locate-window@3.310.0/denonext/util-locate-window.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"tslib":return e(__0$);case"@aws-crypto/supports-web-crypto":return c(__1$);case"@aws-crypto/ie11-detection":return c(__2$);case"@aws-sdk/util-locate-window":return c(__3$);case"@aws-crypto/util":return c(__4$);case"@aws-sdk/util-utf8-browser":return c(__5$);default:throw new Error("module \""+n+"\" not found");}};
var T=Object.create;var S=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var i=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),G=(e,t)=>{for(var r in t)S(e,r,{get:t[r],enumerable:!0})},A=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of j(t))!B.call(e,f)&&f!==r&&S(e,f,{get:()=>t[f],enumerable:!(n=D(t,f))||n.enumerable});return e},s=(e,t,r)=>(A(e,t,"default"),r&&A(r,t,"default")),g=(e,t,r)=>(r=e!=null?T(k(e)):{},A(t||!e||!e.__esModule?S(r,"default",{value:e,enumerable:!0}):r,e));var w=h(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.isEmptyData=void 0;function I(e){return typeof e=="string"?e.length===0:e.byteLength===0}_.isEmptyData=I});var d=h(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.EMPTY_DATA_SHA_1=o.SHA_1_HMAC_ALGO=o.SHA_1_HASH=void 0;o.SHA_1_HASH={name:"SHA-1"};o.SHA_1_HMAC_ALGO={name:"HMAC",hash:o.SHA_1_HASH};o.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])});var m=h(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.Sha1=void 0;var K=w(),P=d(),Y=i("@aws-sdk/util-utf8-browser"),v=i("@aws-sdk/util-locate-window"),x=function(){function e(t){this.secret=t,this.reset()}return e.prototype.update=function(t){var r=this;(0,K.isEmptyData)(t)||(this.operation=this.operation.then(function(n){return n.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(M(t)),n}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(r,n){t.onerror=function(){n(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&r(new Uint8Array(t.result)),n(new Error("Error encountered finalizing hash"))},t.finish()})})},e.prototype.reset=function(){this.secret?(this.operation=V(this.secret).then(function(t){return(0,v.locateWindow)().msCrypto.subtle.sign(P.SHA_1_HMAC_ALGO,t)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,v.locateWindow)().msCrypto.subtle.digest("SHA-1"))},e}();c.Sha1=x;function V(e){return new Promise(function(t,r){var n=(0,v.locateWindow)().msCrypto.subtle.importKey("raw",M(e),P.SHA_1_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&t(n.result),r(new Error("ImportKey completed without importing key."))},n.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function M(e){return typeof e=="string"?(0,Y.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}});var b=h(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.Sha1=void 0;var z=i("@aws-sdk/util-utf8-browser"),q=w(),p=d(),H=i("@aws-sdk/util-locate-window"),N=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){(0,H.locateWindow)().crypto.subtle.importKey("raw",O(t),p.SHA_1_HMAC_ALGO,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!(0,q.isEmptyData)(t)){var r=O(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return(0,H.locateWindow)().crypto.subtle.sign(p.SHA_1_HMAC_ALGO,r,t.toHash).then(function(n){return new Uint8Array(n)})}):(0,q.isEmptyData)(this.toHash)?Promise.resolve(p.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,H.locateWindow)().crypto.subtle.digest(p.SHA_1_HASH,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();y.Sha1=N;function O(e){return typeof e=="string"?(0,z.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}});var U=h(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.Sha1=void 0;var R=m(),F=b(),J=i("@aws-crypto/supports-web-crypto"),Q=i("@aws-crypto/ie11-detection"),C=i("@aws-sdk/util-locate-window"),X=i("@aws-crypto/util"),Z=function(){function e(t){if((0,J.supportsWebCrypto)((0,C.locateWindow)()))this.hash=new F.Sha1(t);else if((0,Q.isMsWindow)((0,C.locateWindow)()))this.hash=new R.Sha1(t);else throw new Error("SHA1 not supported")}return e.prototype.update=function(t,r){this.hash.update((0,X.convertToBuffer)(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();l.Sha1=Z});var E=h(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.WebCryptoSha1=a.Ie11Sha1=void 0;var $=i("tslib");$.__exportStar(U(),a);var ee=m();Object.defineProperty(a,"Ie11Sha1",{enumerable:!0,get:function(){return ee.Sha1}});var te=b();Object.defineProperty(a,"WebCryptoSha1",{enumerable:!0,get:function(){return te.Sha1}})});var u={};G(u,{Ie11Sha1:()=>ie,Sha1:()=>oe,WebCryptoSha1:()=>ne,__esModule:()=>re,default:()=>se});var W=g(E());s(u,g(E()));var{__esModule:re,WebCryptoSha1:ne,Ie11Sha1:ie,Sha1:oe}=W,{default:L,...ue}=W,se=L!==void 0?L:ue;export{ie as Ie11Sha1,oe as Sha1,ne as WebCryptoSha1,re as __esModule,se as default};
//# sourceMappingURL=sha1-browser.mjs.map