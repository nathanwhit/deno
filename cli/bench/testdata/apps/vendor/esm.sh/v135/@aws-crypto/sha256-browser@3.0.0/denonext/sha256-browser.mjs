/* esm.sh - esbuild bundle(@aws-crypto/sha256-browser@3.0.0) denonext production */
import * as __0$ from "/v135/tslib@1.14.1/denonext/tslib.mjs";
import * as __1$ from "/v135/@aws-crypto/sha256-js@3.0.0/denonext/sha256-js.mjs";
import * as __2$ from "/v135/@aws-crypto/supports-web-crypto@3.0.0/denonext/supports-web-crypto.mjs";
import * as __3$ from "/v135/@aws-crypto/ie11-detection@3.0.0/denonext/ie11-detection.mjs";
import * as __4$ from "/v135/@aws-sdk/util-locate-window@3.310.0/denonext/util-locate-window.mjs";
import * as __5$ from "/v135/@aws-crypto/util@3.0.0/denonext/util.mjs";
import * as __6$ from "/v135/@aws-sdk/util-utf8-browser@3.259.0/denonext/util-utf8-browser.mjs";
import * as __7$ from "/v135/@aws-sdk/util-locate-window@3.310.0/denonext/util-locate-window.mjs";
import * as __8$ from "/v135/@aws-crypto/util@3.0.0/denonext/util.mjs";
import * as __9$ from "/v135/@aws-sdk/util-locate-window@3.310.0/denonext/util-locate-window.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"tslib":return e(__0$);case"@aws-crypto/sha256-js":return c(__1$);case"@aws-crypto/supports-web-crypto":return c(__2$);case"@aws-crypto/ie11-detection":return c(__3$);case"@aws-sdk/util-locate-window":return c(__4$);case"@aws-crypto/util":return c(__5$);case"@aws-sdk/util-utf8-browser":return c(__6$);default:throw new Error("module \""+n+"\" not found");}};
var T=Object.create;var S=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var n=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),B=(t,e)=>{for(var r in e)S(t,r,{get:e[r],enumerable:!0})},A=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of D(e))!k.call(t,c)&&c!==r&&S(t,c,{get:()=>e[c],enumerable:!(i=U(e,c))||i.enumerable});return t},u=(t,e,r)=>(A(t,e,"default"),r&&A(r,e,"default")),E=(t,e,r)=>(r=t!=null?T(j(t)):{},A(e||!t||!t.__esModule?S(r,"default",{value:t,enumerable:!0}):r,t));var P=h(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.isEmptyData=void 0;function G(t){return typeof t=="string"?t.length===0:t.byteLength===0}_.isEmptyData=G});var v=h(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.EMPTY_DATA_SHA_256=o.SHA_256_HMAC_ALGO=o.SHA_256_HASH=void 0;o.SHA_256_HASH={name:"SHA-256"};o.SHA_256_HMAC_ALGO={name:"HMAC",hash:o.SHA_256_HASH};o.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});var H=h(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.Sha256=void 0;var I=P(),M=v(),K=n("@aws-sdk/util-utf8-browser"),w=n("@aws-sdk/util-locate-window"),x=function(){function t(e){this.secret=e,this.reset()}return t.prototype.update=function(e){var r=this;(0,I.isEmptyData)(e)||(this.operation=this.operation.then(function(i){return i.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},i.process(q(e)),i}),this.operation.catch(function(){}))},t.prototype.digest=function(){return this.operation.then(function(e){return new Promise(function(r,i){e.onerror=function(){i(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&r(new Uint8Array(e.result)),i(new Error("Error encountered finalizing hash"))},e.finish()})})},t.prototype.reset=function(){this.secret?(this.operation=Y(this.secret).then(function(e){return(0,w.locateWindow)().msCrypto.subtle.sign(M.SHA_256_HMAC_ALGO,e)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,w.locateWindow)().msCrypto.subtle.digest("SHA-256"))},t}();f.Sha256=x;function Y(t){return new Promise(function(e,r){var i=(0,w.locateWindow)().msCrypto.subtle.importKey("raw",q(t),M.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&e(i.result),r(new Error("ImportKey completed without importing key."))},i.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function q(t){return typeof t=="string"?(0,K.fromUtf8)(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}});var b=h(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.Sha256=void 0;var p=n("@aws-crypto/util"),y=v(),m=n("@aws-sdk/util-locate-window"),z=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!(0,p.isEmptyData)(e)){var r=(0,p.convertToBuffer)(e),i=new Uint8Array(this.toHash.byteLength+r.byteLength);i.set(this.toHash,0),i.set(r,this.toHash.byteLength),this.toHash=i}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return(0,m.locateWindow)().crypto.subtle.sign(y.SHA_256_HMAC_ALGO,r,e.toHash).then(function(i){return new Uint8Array(i)})}):(0,p.isEmptyData)(this.toHash)?Promise.resolve(y.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,m.locateWindow)().crypto.subtle.digest(y.SHA_256_HASH,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,i){(0,m.locateWindow)().crypto.subtle.importKey("raw",(0,p.convertToBuffer)(e.secret),y.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,i)}),this.key.catch(function(){}))},t}();l.Sha256=z});var O=h(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.Sha256=void 0;var V=H(),N=b(),R=n("@aws-crypto/sha256-js"),F=n("@aws-crypto/supports-web-crypto"),J=n("@aws-crypto/ie11-detection"),C=n("@aws-sdk/util-locate-window"),Q=n("@aws-crypto/util"),X=function(){function t(e){(0,F.supportsWebCrypto)((0,C.locateWindow)())?this.hash=new N.Sha256(e):(0,J.isMsWindow)((0,C.locateWindow)())?this.hash=new V.Sha256(e):this.hash=new R.Sha256(e)}return t.prototype.update=function(e,r){this.hash.update((0,Q.convertToBuffer)(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();d.Sha256=X});var g=h(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.WebCryptoSha256=a.Ie11Sha256=void 0;var Z=n("tslib");Z.__exportStar(O(),a);var $=H();Object.defineProperty(a,"Ie11Sha256",{enumerable:!0,get:function(){return $.Sha256}});var ee=b();Object.defineProperty(a,"WebCryptoSha256",{enumerable:!0,get:function(){return ee.Sha256}})});var s={};B(s,{Ie11Sha256:()=>ie,Sha256:()=>ne,WebCryptoSha256:()=>re,__esModule:()=>te,default:()=>se});var L=E(g());u(s,E(g()));var{__esModule:te,WebCryptoSha256:re,Ie11Sha256:ie,Sha256:ne}=L,{default:W,...oe}=L,se=W!==void 0?W:oe;export{ie as Ie11Sha256,ne as Sha256,re as WebCryptoSha256,te as __esModule,se as default};
//# sourceMappingURL=sha256-browser.mjs.map